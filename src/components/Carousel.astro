---
const imgsNumber = 30;
const images = Array.from({ length: imgsNumber }, (_, i) => {
  return `/images/gallery/${i + 1}.webp`;
});

// Shuffle the images array (No need for yates)
images.sort((a, b) => Math.random() - 0.5);
---

<section id="gallery" class="mx-auto max-w-screen-xl mt-8 py-8">
  <h2
    id="joinus"
    class="text-2xl font-semibold text-gray-900 sm:text-3xl text-center mb-4"
  >
    Gallery
  </h2>

  <div class="embla theme-light">
    <div class="embla__viewport">
      <div class="embla__container">
        {
          images.map((image, index) => (
            <div class="embla__slide">
              <div class="embla__parallax">
                <div class="embla__parallax__layer">
                  <img
                    data-fancybox="gallery-collection"
                    class="embla__slide__img embla__parallax__img"
                    src={image}
                    alt={`gallery_image_${index + 1}`}
                  />
                </div>
              </div>
            </div>
          ))
        }
      </div>
    </div>
    <div class="embla__controls">
      <div class="embla__buttons">
        <button
          class="embla__button embla__button--prev"
          type="button"
          disabled=""
        >
          <svg class="embla__button__svg" viewBox="0 0 532 532">
            <path
              fill="currentColor"
              d="M355.66 11.354c13.793-13.805 36.208-13.805 50.001 0 13.785 13.804 13.785 36.238 0 50.034L201.22 266l204.442 204.61c13.785 13.805 13.785 36.239 0 50.044-13.793 13.796-36.208 13.796-50.002 0a5994246.277 5994246.277 0 0 0-229.332-229.454 35.065 35.065 0 0 1-10.326-25.126c0-9.2 3.393-18.26 10.326-25.2C172.192 194.973 332.731 34.31 355.66 11.354Z"
            ></path>
          </svg></button
        ><button
          class="embla__button embla__button--next"
          type="button"
          disabled=""
        >
          <svg class="embla__button__svg" viewBox="0 0 532 532">
            <path
              fill="currentColor"
              d="M176.34 520.646c-13.793 13.805-36.208 13.805-50.001 0-13.785-13.804-13.785-36.238 0-50.034L330.78 266 126.34 61.391c-13.785-13.805-13.785-36.239 0-50.044 13.793-13.796 36.208-13.796 50.002 0 22.928 22.947 206.395 206.507 229.332 229.454a35.065 35.065 0 0 1 10.326 25.126c0 9.2-3.393 18.26-10.326 25.2-45.865 45.901-206.404 206.564-229.332 229.52Z"
            ></path>
          </svg>
        </button>
      </div>
      <a
        class="inline-block mr-4 lg:mx-0 rounded-lg border border-blue-600 px-12 py-3 text-sm font-medium text-blue-600 hover:bg-blue-600 hover:text-white focus:ring-3 focus:outline-hidden"
        href="javascript:;"
        data-fancybox-delegate="gallery-collection"
        data-fancybox-index="0"
      >
        See all
      </a>
    </div>
  </div>
</section>

<client-only>
  <script src="/src/utils/embla/index"></script>
  <script src="/src/utils/fancybox/index"></script>
</client-only>
